<div class="dashboard-container">
    <!-- Sidebar (igual al que ya usas) -->
    <nav class="sidebar">
        <div class="logo-section">
        <img src="../../../assets/pasaporte.png" alt="Logo" class="logo" />
        <span class="system-name">Visa.ES</span>
        </div>
        <hr class="divider" />
        
        <div class="menu">
        <button class="menu-button" (click)="administradorSolicitudes()">
            Solicitudes
        </button>
        <button class="menu-button" (click)="administradorCitasAgendadas()">
            Citas Asignadas
        </button>
        <button class="menu-button" (click)="administradorReporte()">
            Reporte
        </button>
        </div>

        <div class="user-section">
        <span>{{ username }}</span>
        <button (click)="logout()">Salir</button>
        </div>
    </nav>

    <!-- Contenido principal -->
    <main class="main-content">
        <div class="header">
        <h1>Detalle Solicitud</h1>
        </div>

        <form class="solicitud-form" #solForm="ngForm" novalidate>


        <!-- Sección: Datos personales -->
    <h2 class="section-title">Datos del solicitante</h2>

    <!-- Fila: Apellido, Nombre y Foto -->
    <div class="form-grid-3 foto-fila">
        <div class="form-group">
            <label for="apellido">Apellido(s) *</label>
            <input id="apellido" name="apellido" type="text" [(ngModel)]="solicitud.apellidos" required />
        </div>

        <div class="form-group">
            <label for="nombre">Nombre(s) *</label>
            <input id="nombre" name="nombre" type="text" [(ngModel)]="solicitud.nombres" required />
        </div>

        <div class="form-group foto-solicitante">
        <div class="foto-header" *ngIf="fotoSeleccionada">
        </div>



        <label class="upload-box" for="fotoInput">
            <span *ngIf="!fotoSeleccionada">Cargar foto</span>
            <img *ngIf="fotoSeleccionada" [src]="fotoSeleccionada" alt="Foto solicitante"/>
        </label>

        <input type="file" id="fotoInput" (change)="onFileSelected($event)" accept="image/*" hidden />
        </div>

    </div>


    <!-- Fila: Fecha de nacimiento, País de nacimiento, Nacionalidad -->
    <div class="form-grid-3">
    <div class="form-group">
        <label for="fechaNacimiento">Fecha de nacimiento *</label>
        <input id="fechaNacimiento" name="fechaNacimiento" type="date" [(ngModel)]="solicitud.fechaNacimiento" required />
    </div>

    <div class="form-group">
    <label for="paisNacimiento">País de nacimiento *</label>
    <select id="paisNacimiento" name="paisNacimiento" [(ngModel)]="solicitud.idPaisDeNacimiento" required>
        <option value="">-- Seleccionar --</option>
        <option *ngFor="let pais of paises" [value]="pais.idPais">{{ pais.nombrePais }}</option>
    </select>
    </div>

    <div class="form-group">
        <label for="nacionalidad">Nacionalidad *</label>
        <input id="nacionalidad" name="nacionalidad" type="text" [(ngModel)]="solicitud.nacionalidad" required />
    </div>
    </div>

    <!-- Fila: Sexo y Estado civil -->
    <div class="form-grid-2">
        <div class="form-group">
        <label for="sexo">Sexo *</label>
        <select id="sexo" name="sexo" [(ngModel)]="solicitud.idSexo" required>
            <option value="">-- Seleccionar --</option>
            <option *ngFor="let sexo of sexos" [value]="sexo.idSexo">{{ sexo.descripcion }}</option>
        </select>
        </div>

            <div class="form-group">
        <label for="estadoCivil">Estado Civil *</label>
        <select id="estadoCivil" name="estadoCivil" [(ngModel)]="solicitud.idEstadoCivil" required>
            <option value="">-- Seleccionar --</option>
            <option *ngFor="let estado of estadosCiviles" [value]="estado.idEstadoCivil">{{ estado.descripcion }}</option>
        </select>
        </div>
    </div>

    <!-- Fila: CI y Número de pasaporte -->
    <div class="form-grid-2">
    <div class="form-group">
        <label for="ci">Cédula (CI) *</label>
        <input id="ci" name="ci" type="text" [(ngModel)]="solicitud.ci" required />
    </div>

    <div class="form-group">
        <label for="numPasaporte">Número de pasaporte</label>
        <input id="numPasaporte" name="numPasaporte" type="text" [(ngModel)]="solicitud.numeroPasaporte" />
    </div>
    </div>

    <!-- Fila: Fecha de expedición, vencimiento y País de expedición -->
    <div class="form-grid-3">
        <div class="form-group">
            <label for="pasaporteFechaExp">Fecha de expedición (pasaporte)</label>
            <input id="pasaporteFechaExp" name="pasaporteFechaExp" type="date" [(ngModel)]="solicitud.fechaExpedicionPasaporte" />
        </div>

        <div class="form-group">
            <label for="pasaporteFechaVen">Fecha de vencimiento (pasaporte)</label>
            <input id="pasaporteFechaVen" name="pasaporteFechaVen" type="date" [(ngModel)]="solicitud.fechaVencimientoPasaporte" />
        </div>
        <div class="form-group">
        <label for="pasaportePaisExp">Expedido por:</label>
        <select id="pasaportePaisExp" name="pasaportePaisExp" [(ngModel)]="solicitud.idPaisExpedicionPasaporte">
            <option value="">-- Seleccionar --</option>
            <option *ngFor="let pais of paises" [value]="pais.idPais">{{ pais.nombrePais }}</option>
        </select>
        </div>
    </div>

    <!-- Fila: Profesión -->
    <div class="form-group">
        <label for="ocupacion">Ocupación / Profesión</label>
        <input id="ocupacion" name="ocupacion" type="text" [(ngModel)]="solicitud.profesion" />
    </div>

        <!-- Sección: Datos de la solicitud -->
        <h2 class="section-title">Datos de la solicitud</h2>
        <div class="form-grid">

            <div class="form-group full-width">
                <label>Motivo del viaje *</label>
                <div class="radio-group">
                    <label *ngFor="let motivo of motivos">
                    <input
                        type="radio"
                        name="motivo"
                        [(ngModel)]="motivoSeleccionado"
                        [value]="motivo.descripcion"
                        required
                    />
                    {{ motivo.descripcion }}
                    </label>
                </div>
            </div>

            <div class="form-group">
            <label for="fechaInicio">Fecha inicio prevista *</label>
            <input id="fechaInicio" name="fechaInicio" type="date" [(ngModel)]="solicitud.fechaLlegadaSpain" />
            </div>

            <div class="form-group">
            <label for="fechaFin">Fecha fin prevista *</label>
            <input id="fechaFin" name="fechaFin" type="date" [(ngModel)]="solicitud.fechaSalidaSpain" />
            </div>

        </div>

        <!-- Acciones -->
        <div class="form-actions">
        <button type="button" class="reject-button" (click)="cambiarEstado('Rechazada')">
            Rechazar
        </button>
        <button type="button" class="approve-button" (click)="cambiarEstado('Aprobada')">
            Aprobar
        </button>
        <button type="button" class="cancel-button" (click)="cancelar()">
            Cancelar
        </button>
        </div>

        </form>
    </main>
</div>
